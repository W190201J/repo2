Kitbag.registerNamespace("Stores.Login"),Kitbag.Stores.Login.BaseLoginController=function(n,i,e,t){n.delayedUpdateOption={debounce:500},n.init=function(e){n.loginExistingCustomer=e.LoginExistingCustomer,i.setCheckoutApiUrl(e.EosApiUrl)},n.checkoutAsGuest=function(){t.assign(window.baseUri+"checkout/ViewCheckout")},n.onUnauthenticatedUser=function(e){n.deactivateSpinner(),n.message=e,n.loginErrorMessage=!0},n.login=function(){n.activateSpinner(),e.login(n.LoginFields.username,n.LoginFields.password).then(function(e){n.onLoginResponseSuccess(e.data)},n.deactivateSpinner)}},angular.module("kitbag").controller("loginCtrlDesktop",["$scope","authService","urlBuilder","$window",function(n,i,e,t){angular.extendController(this,Kitbag.Stores.Login.BaseLoginController,[n,e,i,t.location]),n.onLoginResponseSuccess=function(e){i.isUserAuthenticated(e.Status)?i.redirectPage(n.redirectUrl):n.onUnauthenticatedUser(e.Message)}}]);